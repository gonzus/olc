* Rework the sanitization code -- I am not happy with how complex (and, to be
  honest, hacky) it is now.

* Add *massively* more tests.  From where?

* Maybe implement versions of some of the public API functions that return
  their answers instead of receiving a (pointer to) the answer.  Not sure about
  this one, it might be more natural for some people.
